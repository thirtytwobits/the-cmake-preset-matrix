{
    "version": 9,
    "cmakeMinimumRequired": {
        "major": 3,
        "minor": 30,
        "patch": 0
    },
    "configurePresets": [
        {
            "name": "configure-common",
            "hidden": true,
            "generator": "Ninja Multi-Config",
            "binaryDir": "${sourceDir}/build",
            "warnings": {
                "deprecated": true,
                "uninitialized": true
            },
            "cacheVariables": {
                "CMAKE_EXPORT_COMPILE_COMMANDS": "ON",
                "CMAKE_PREFIX_PATH": "${sourceParentDir}",
                "CMAKE_CONFIGURATION_TYPES": "Release;RelSize;Debug;DebugAsan",
                "CMAKE_CROSS_CONFIGS": "all",
                "CMAKE_DEFAULT_BUILD_TYPE": "Debug",
                "CMAKE_DEFAULT_CONFIGS": "Debug"
            }
        }
    ],
    "vendor": {
        "tcpm": {
            "version": 1,
            "onload": [
                "$('#preset-group-build parameters toolchain').json($('#preset-group-config parameters toolchain').json()).exp()",
                "$('#preset-group-build parameters standard').json($('#preset-group-config parameters standard').json()).exp()",
                "$('#preset-group-build parameters configuration').json($('#configure-common cacheVariables CMAKE_CONFIGURATION_TYPES').text().split(';')).exp()",
                "$('#preset-group-workflow shape-parameters configuration').json($('#configure-common cacheVariables CMAKE_CONFIGURATION_TYPES').text().split(';')).exp()",
                "$('#preset-group-workflow parameters toolchain').json($('#preset-group-config parameters toolchain').json()).exp()",
                "$('#preset-group-workflow parameters standard').json($('#preset-group-config parameters standard').json()).exp()"
            ],
            "preset-groups": {
                "configure": {
                    "name": "preset-group-config",
                    "common": [
                        "configure-common"
                    ],
                    "parameters": {
                        "toolchain": [
                            "gcc-native",
                            "gcc-native-32",
                            "clang-native"
                        ],
                        "standard": [
                            "cpp-14",
                            "cpp-17",
                            "cpp-20"
                        ]
                    },
                    "shape": {
                        "toolchain": {
                            "toolchainFile": "${{sourceParentDir}}/.devcontainer/cmake/toolchains/{parameter}.cmake",
                            "cacheVariables": {
                                "MY_TARGET_PLATFORM": "{pq}(this).if('{name}' $= 'gcc-native-32', 'm32', 'native')"
                            }
                        },
                        "standard": {
                            "cacheVariables": {
                                "CMAKE_CXX_STANDARD": "{pq}(this).literal('{parameter}').split('{sep}').get(1)"
                            }
                        }
                    }
                },
                "build": {
                    "name": "preset-group-build",
                    "parameters": {
                        "configuration": [],
                        "toolchain": [],
                        "standard": []
                    },
                    "shape": {
                        "configuration": {
                            "configurePreset": "{pq}(this).literal('{name}').replace('{prefix}{sep}{parameter}', '{groups[configure][prefix]}')",
                            "configuration": "{parameter}",
                            "targets": [
                                "build",
                                "build_examples",
                                "build_unittests",
                                "build_compile_tests",
                                "docs",
                                "lint",
                                "release"
                            ]
                        }
                    }
                },
                "workflow": {
                    "name": "preset-group-workflow",
                    "parameters": {
                        "toolchain": [],
                        "standard": []
                    },
                    "shape-parameters": {
                        "configuration": []
                    },
                    "shape": {
                        "toolchain": {
                            "displayName": "{pq}(this).literal('{name}').replace('{groups[workflow][prefix]}{sep}','').replace('{sep}', ' ')",
                            "description": "autogenerated workflow",
                            "steps": [
                                {
                                    "type": "configure",
                                    "name": "{pq}(this).literal('{name}').replace('{groups[workflow][prefix]}{sep}', '{groups[configure][prefix]}{sep}')"
                                }
                            ]
                        },
                        "configuration": {
                            "steps": [
                                {
                                    "type": "build",
                                    "name": "{pq}(this).literal('{name}').replace('{groups[workflow][prefix]}{sep}', '{groups[build][prefix]}{sep}{parameter}{sep}')"
                                }
                            ]
                        }
                    }
                }
            }
        }
    }
}